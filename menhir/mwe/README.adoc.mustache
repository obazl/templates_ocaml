= {{name}}
:toc: true

A non-namespaced minimal working example, from
https://github.com/eudoxia0/parsing-menhir/tree/master/skeleton/test.  Demonstrates use of Menhir and:

* link:https://github.com/obazl/rules_menhir[rules_menhir]
* link:https://github.com/obazl/rules_ocaml[rules_ocaml]
* link:https://github.com/obazl/tools_opam[tools_opam]

== Getting started

    bazel test src:test

Run menhir to generate the parser code:

----
$ bazel build src:menhir_Parser
INFO: Analyzed target //src:menhir_Parser (1 packages loaded, 482 targets configured).
INFO: Found 1 target...
Target //src:menhir_Parser up-to-date:
  bazel-bin/src/parser.ml
  bazel-bin/src/parser.mli
----

You'll see some messages the first time you build, while the extension configures a local opam switch; for example:

     Fetching module extension @@tools_opam+//extensions:opam.bzl%opam; Building @tools_opam//extensions/config
     Fetching ... @@tools_opam+//extensions:opam.bzl%opam; Creating local switch for compiler 5.3.0 at /path/to/obazl_hello 54s
    Fetching module extension @@tools_opam+//extensions:opam.bzl%opam; Installing pkg ounit2 (0 of 1) 15s

